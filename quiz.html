<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Error Control Coding</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        const Check = ({ className }) => (
          <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
          </svg>
        );

        const X = ({ className }) => (
          <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
          </svg>
        );

        const quizQuestions = [
          {
            id: 1,
            question: "What is the main purpose of Repetition Code?",
            options: [
              "To compress data",
              "To detect and correct errors by repeating bits",
              "To encrypt data",
              "To speed up transmission"
            ],
            correct: 1
          },
          {
            id: 2,
            question: "In Repetition Code (3,1), how many errors can be corrected?",
            options: ["0 errors", "1 error", "2 errors", "3 errors"],
            correct: 1
          },
          {
            id: 3,
            question: "What method does Repetition Code use for decoding?",
            options: ["XOR operation", "Majority voting", "Parity checking", "Hashing"],
            correct: 1
          },
          {
            id: 4,
            question: "If the original bit is '1' in (5,1) Repetition Code, what is transmitted?",
            options: ["11", "111", "1111", "11111"],
            correct: 3
          },
          {
            id: 5,
            question: "What is the formula for calculating correctable errors in R(n,1)?",
            options: ["n/2", "‚åä(n-1)/2‚åã", "n-1", "2^n"],
            correct: 1
          },
          {
            id: 6,
            question: "What are the extra bits in Hamming Code called?",
            options: ["Data bits", "Check bits", "Redundant bits", "Error bits"],
            correct: 2
          },
          {
            id: 7,
            question: "Which positions are used for parity bits in Hamming Code?",
            options: [
              "All odd positions",
              "All even positions",
              "Powers of 2 (1, 2, 4, 8...)",
              "Multiples of 3"
            ],
            correct: 2
          },
          {
            id: 8,
            question: "In Even Parity, if you have bits '1011', what is the parity bit?",
            options: ["0", "1", "Depends on context", "No parity needed"],
            correct: 1
          },
          {
            id: 9,
            question: "What does 2^r ‚â• m + r + 1 calculate in Hamming Code?",
            options: [
              "Error position",
              "Number of redundant bits needed",
              "Total transmission time",
              "Data compression ratio"
            ],
            correct: 1
          },
          {
            id: 10,
            question: "How many errors can standard Hamming Code correct?",
            options: [
              "Unlimited errors",
              "Only 1 single-bit error",
              "2 errors",
              "All errors"
            ],
            correct: 1
          },
          {
            id: 11,
            question: "Which parity bit covers positions 2, 3, 6, 7, 10, 11?",
            options: ["P1 (position 1)", "P2 (position 2)", "P4 (position 4)", "P8 (position 8)"],
            correct: 1
          },
          {
            id: 12,
            question: "What is the main disadvantage of Repetition Code?",
            options: [
              "Too complex",
              "Cannot detect errors",
              "Consumes too much bandwidth",
              "Only works with even numbers"
            ],
            correct: 2
          },
          {
            id: 13,
            question: "In Repetition Code (7,1), how many errors can be corrected?",
            options: ["1 error", "2 errors", "3 errors", "4 errors"],
            correct: 2
          },
          {
            id: 14,
            question: "If received bits in (3,1) are '110', what is the decoded bit?",
            options: ["0", "1", "Error cannot be corrected", "Need more information"],
            correct: 1
          },
          {
            id: 15,
            question: "What happens when data is transmitted over a noisy channel?",
            options: [
              "Data always arrives perfectly",
              "Data may get corrupted due to noise and interference",
              "Data transmission stops",
              "Data gets encrypted automatically"
            ],
            correct: 1
          },
          {
            id: 16,
            question: "In Odd Parity, if you have bits '1010', what is the parity bit?",
            options: ["0", "1", "Either 0 or 1", "Cannot determine"],
            correct: 1
          },
          {
            id: 17,
            question: "For 7 data bits, how many redundant bits are needed in Hamming Code?",
            options: ["2 bits", "3 bits", "4 bits", "5 bits"],
            correct: 2
          },
          {
            id: 18,
            question: "Which parity bit position covers positions 4, 5, 6, 7, 12, 13, 14, 15?",
            options: ["P1", "P2", "P4", "P8"],
            correct: 2
          },
          {
            id: 19,
            question: "What is the trade-off of using longer repetition codes?",
            options: [
              "Better error correction but uses more bandwidth",
              "Faster transmission but less accurate",
              "Cheaper but less reliable",
              "No trade-off exists"
            ],
            correct: 0
          },
          {
            id: 20,
            question: "In Hamming Code, what does the syndrome (error position result) tell us?",
            options: [
              "The number of errors",
              "The exact position of the error",
              "The type of error",
              "When the error occurred"
            ],
            correct: 1
          }
        ];

        function Quiz() {
          const [mode, setMode] = useState(null); // 'quiz' or 'flashcard'
          const [currentQuestion, setCurrentQuestion] = useState(0);
          const [selectedAnswer, setSelectedAnswer] = useState(null);
          const [score, setScore] = useState(0);
          const [showResult, setShowResult] = useState(false);
          const [answers, setAnswers] = useState([]);

          const handleAnswer = (index) => {
            setSelectedAnswer(index);
          };

          const nextQuestion = () => {
            const isCorrect = selectedAnswer === quizQuestions[currentQuestion].correct;
            
            setAnswers([...answers, {
              question: currentQuestion,
              selected: selectedAnswer,
              correct: quizQuestions[currentQuestion].correct,
              isCorrect
            }]);

            if (isCorrect) {
              setScore(score + 1);
            }

            if (currentQuestion + 1 < quizQuestions.length) {
              setCurrentQuestion(currentQuestion + 1);
              setSelectedAnswer(null);
            } else {
              setShowResult(true);
            }
          };

          const restartQuiz = () => {
            setMode(null);
            setCurrentQuestion(0);
            setSelectedAnswer(null);
            setScore(0);
            setShowResult(false);
            setAnswers([]);
          };

          const getScoreColor = () => {
            const percentage = (score / quizQuestions.length) * 100;
            if (percentage >= 80) return 'text-green-600';
            if (percentage >= 60) return 'text-blue-600';
            if (percentage >= 40) return 'text-yellow-600';
            return 'text-red-600';
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900">
              {/* Header */}
              <header className="bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500 text-white shadow-2xl relative overflow-hidden">
                <div className="absolute inset-0 bg-black opacity-10"></div>
                <div className="container mx-auto px-6 py-12 relative z-10">
                  <h1 className="text-5xl font-extrabold mb-3 tracking-tight">üìù Error-Control Coding Quiz</h1>
                  <p className="text-cyan-100 text-xl font-light">Test Your Knowledge</p>
                </div>
              </header>

              {/* Navigation */}
              <nav className="bg-slate-800/90 backdrop-blur-md shadow-xl sticky top-0 z-10 border-b border-purple-500/30">
                <div className="container mx-auto px-6">
                  <div className="flex space-x-8">
                    <button
                      onClick={() => window.location.href='index.html'}
                      className="py-5 px-4 border-b-3 font-semibold transition-all duration-300 border-transparent text-slate-400 hover:text-cyan-300 hover:bg-slate-700/50"
                    >
                      ‚Üê Back to Home
                    </button>
                  </div>
                </div>
              </nav>

              {/* Main Content */}
              <main className="container mx-auto px-6 py-12">
                {!mode ? (
                  /* Mode Selection Screen */
                  <div className="max-w-4xl mx-auto">
                    <div className="bg-white rounded-lg shadow-2xl p-8 mb-8 text-center">
                      <h2 className="text-3xl font-bold text-gray-800 mb-4">Choose Your Study Mode</h2>
                      <p className="text-gray-600 mb-8">Select how you want to review the material</p>
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                      {/* Quiz Mode */}
                      <button
                        onClick={() => setMode('quiz')}
                        className="bg-white rounded-lg shadow-xl p-8 hover:shadow-2xl transform hover:scale-105 transition-all duration-300 border-4 border-transparent hover:border-purple-500"
                      >
                        <div className="text-6xl mb-4">üìù</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-3">Interactive Quiz</h3>
                        <p className="text-gray-600 mb-4">Answer questions one by one and get your score at the end</p>
                        <ul className="text-left text-sm text-gray-700 space-y-2">
                          <li>‚úì 20 Multiple Choice Questions</li>
                          <li>‚úì Instant Scoring</li>
                          <li>‚úì Answer Review</li>
                          <li>‚úì Track Your Progress</li>
                        </ul>
                      </button>

                      {/* Flashcard Mode */}
                      <button
                        onClick={() => setMode('flashcard')}
                        className="bg-white rounded-lg shadow-xl p-8 hover:shadow-2xl transform hover:scale-105 transition-all duration-300 border-4 border-transparent hover:border-cyan-500"
                      >
                        <div className="text-6xl mb-4">üìö</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-3">Study Guide</h3>
                        <p className="text-gray-600 mb-4">View all questions with answers for quick review</p>
                        <ul className="text-left text-sm text-gray-700 space-y-2">
                          <li>‚úì All 20 Questions Displayed</li>
                          <li>‚úì Answer Key Included</li>
                          <li>‚úì Perfect for Studying</li>
                          <li>‚úì Print-Friendly Format</li>
                        </ul>
                      </button>
                    </div>
                  </div>
                ) : mode === 'flashcard' ? (
                  /* Flashcard/Study Guide Mode */
                  <div className="bg-white rounded-lg shadow-2xl p-8 max-w-5xl mx-auto">
                    <div className="flex justify-between items-center mb-8">
                      <h2 className="text-3xl font-bold text-gray-800">üìö Study Guide - Answer Key</h2>
                      <button
                        onClick={() => setMode(null)}
                        className="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"
                      >
                        ‚Üê Back
                      </button>
                    </div>

                    <div className="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                      <p className="text-blue-800">
                        <strong>Study Tip:</strong> Review all questions and answers below. Use this as a reference guide before taking the interactive quiz!
                      </p>
                    </div>

                    <div className="space-y-6">
                      {quizQuestions.map((q, idx) => (
                        <div key={q.id} className="border-2 border-gray-200 rounded-lg p-6 hover:border-purple-300 transition-colors">
                          <div className="flex items-start mb-4">
                            <span className="flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold mr-3">
                              {idx + 1}
                            </span>
                            <h3 className="text-lg font-semibold text-gray-800 flex-grow">{q.question}</h3>
                          </div>
                          
                          <div className="ml-11 space-y-2">
                            {q.options.map((option, optIdx) => (
                              <div
                                key={optIdx}
                                className={`p-3 rounded-lg ${
                                  optIdx === q.correct
                                    ? 'bg-green-100 border-2 border-green-500'
                                    : 'bg-gray-50 border border-gray-200'
                                }`}
                              >
                                <span className="font-semibold text-gray-700">
                                  {String.fromCharCode(65 + optIdx)}.
                                </span>{' '}
                                <span className={optIdx === q.correct ? 'text-green-800 font-semibold' : 'text-gray-700'}>
                                  {option}
                                </span>
                                {optIdx === q.correct && (
                                  <span className="ml-2 text-green-600">‚úì Correct Answer</span>
                                )}
                              </div>
                            ))}
                          </div>
                        </div>
                      ))}
                    </div>

                    <div className="mt-8 flex gap-4">
                      <button
                        onClick={() => setMode('quiz')}
                        className="flex-1 py-4 rounded-lg font-bold text-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 shadow-lg transition-all duration-300"
                      >
                        üìù Take the Quiz Now
                      </button>
                      <button
                        onClick={() => window.print()}
                        className="flex-1 py-4 rounded-lg font-bold text-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 shadow-lg transition-all duration-300"
                      >
                        üñ®Ô∏è Print Study Guide
                      </button>
                    </div>
                  </div>
                ) : !showResult ? (
                  <div className="bg-white rounded-lg shadow-2xl p-8 max-w-3xl mx-auto">
                    {/* Progress Bar */}
                    <div className="mb-8">
                      <div className="flex justify-between mb-2">
                        <span className="text-sm font-semibold text-gray-600">
                          Question {currentQuestion + 1} of {quizQuestions.length}
                        </span>
                        <span className="text-sm font-semibold text-purple-600">
                          Score: {score}/{currentQuestion}
                        </span>
                      </div>
                      <div className="w-full bg-gray-200 rounded-full h-3">
                        <div
                          className="bg-gradient-to-r from-cyan-500 to-purple-500 h-3 rounded-full transition-all duration-500"
                          style={{ width: `${((currentQuestion + 1) / quizQuestions.length) * 100}%` }}
                        ></div>
                      </div>
                    </div>

                    {/* Question */}
                    <h2 className="text-2xl font-bold text-gray-800 mb-6">
                      {quizQuestions[currentQuestion].question}
                    </h2>

                    {/* Options */}
                    <div className="space-y-4 mb-8">
                      {quizQuestions[currentQuestion].options.map((option, index) => (
                        <button
                          key={index}
                          onClick={() => handleAnswer(index)}
                          className={`w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ${
                            selectedAnswer === index
                              ? 'border-purple-500 bg-purple-50 shadow-md transform scale-105'
                              : 'border-gray-300 hover:border-purple-300 hover:bg-gray-50'
                          }`}
                        >
                          <span className="font-semibold text-gray-700">{String.fromCharCode(65 + index)}.</span>{' '}
                          <span className="text-gray-800">{option}</span>
                        </button>
                      ))}
                    </div>

                    {/* Next Button */}
                    <button
                      onClick={nextQuestion}
                      disabled={selectedAnswer === null}
                      className={`w-full py-4 rounded-lg font-bold text-lg transition-all duration-300 ${
                        selectedAnswer !== null
                          ? 'bg-gradient-to-r from-cyan-500 to-purple-500 text-white hover:from-cyan-600 hover:to-purple-600 shadow-lg'
                          : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                      }`}
                    >
                      {currentQuestion + 1 === quizQuestions.length ? 'Finish Quiz' : 'Next Question ‚Üí'}
                    </button>
                  </div>
                ) : (
                  <div className="bg-white rounded-lg shadow-2xl p-8 max-w-3xl mx-auto">
                    {/* Results */}
                    <div className="text-center mb-8">
                      <h2 className="text-4xl font-bold text-gray-800 mb-4">Quiz Complete! üéâ</h2>
                      <div className={`text-6xl font-extrabold mb-4 ${getScoreColor()}`}>
                        {score} / {quizQuestions.length}
                      </div>
                      <p className="text-xl text-gray-600">
                        {(score / quizQuestions.length) * 100}% Correct
                      </p>
                      <div className="mt-6">
                        {score === quizQuestions.length && (
                          <p className="text-green-600 font-semibold text-lg">Perfect Score! Excellent work! üåü</p>
                        )}
                        {score >= quizQuestions.length * 0.8 && score < quizQuestions.length && (
                          <p className="text-blue-600 font-semibold text-lg">Great job! Almost perfect! üëè</p>
                        )}
                        {score >= quizQuestions.length * 0.6 && score < quizQuestions.length * 0.8 && (
                          <p className="text-yellow-600 font-semibold text-lg">Good effort! Keep studying! üìö</p>
                        )}
                        {score < quizQuestions.length * 0.6 && (
                          <p className="text-red-600 font-semibold text-lg">Review the material and try again! üí™</p>
                        )}
                      </div>
                    </div>

                    {/* Answer Review */}
                    <div className="space-y-4 mb-8">
                      <h3 className="text-2xl font-bold text-gray-800 mb-4">Review Your Answers:</h3>
                      {answers.map((answer, idx) => (
                        <div
                          key={idx}
                          className={`p-4 rounded-lg border-2 ${
                            answer.isCorrect ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'
                          }`}
                        >
                          <div className="flex items-start">
                            {answer.isCorrect ? (
                              <Check className="w-6 h-6 text-green-600 mr-3 mt-1 flex-shrink-0" />
                            ) : (
                              <X className="w-6 h-6 text-red-600 mr-3 mt-1 flex-shrink-0" />
                            )}
                            <div className="flex-grow">
                              <p className="font-semibold text-gray-800 mb-2">
                                Q{idx + 1}: {quizQuestions[answer.question].question}
                              </p>
                              <p className="text-sm text-gray-700">
                                <span className="font-semibold">Your answer:</span>{' '}
                                {quizQuestions[answer.question].options[answer.selected]}
                              </p>
                              {!answer.isCorrect && (
                                <p className="text-sm text-green-700 mt-1">
                                  <span className="font-semibold">Correct answer:</span>{' '}
                                  {quizQuestions[answer.question].options[answer.correct]}
                                </p>
                              )}
                            </div>
                          </div>
                        </div>
                      ))}
                    </div>

                    {/* Action Buttons */}
                    <div className="flex gap-4">
                      <button
                        onClick={restartQuiz}
                        className="flex-1 py-4 rounded-lg font-bold text-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 shadow-lg transition-all duration-300"
                      >
                        üîÑ Retake Quiz
                      </button>
                      <button
                        onClick={() => window.location.href='index.html'}
                        className="flex-1 py-4 rounded-lg font-bold text-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 shadow-lg transition-all duration-300"
                      >
                        üìö Back to Learning
                      </button>
                    </div>
                  </div>
                )}
              </main>

              {/* Footer */}
              <footer className="bg-gray-800 text-white py-8 mt-16">
                <div className="container mx-auto px-6 text-center">
                  <p className="text-gray-400">Error-Control Coding in Digital Communication Systems</p>
                </div>
              </footer>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Quiz />);
    </script>
</body>
</html>